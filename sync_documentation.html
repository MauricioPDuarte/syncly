<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Sincroniza√ß√£o - Documenta√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#F59E0B'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Header -->
    <header class="bg-primary text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold">Sistema de Sincroniza√ß√£o</h1>
            <p class="text-blue-100 mt-2">Documenta√ß√£o Completa - Syncly</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <ul class="flex space-x-6 py-4">
                <li><a href="#overview" class="text-primary hover:text-blue-700 font-medium">Vis√£o Geral</a></li>
                <li><a href="#architecture" class="text-primary hover:text-blue-700 font-medium">Arquitetura</a></li>
                <li><a href="#technical-details" class="text-primary hover:text-blue-700 font-medium">Detalhes T√©cnicos</a></li>
                <li><a href="#api-routes" class="text-primary hover:text-blue-700 font-medium">Rotas da API</a></li>
                <li><a href="#usage" class="text-primary hover:text-blue-700 font-medium">Como Usar</a></li>
                <li><a href="#examples" class="text-primary hover:text-blue-700 font-medium">Exemplos Pr√°ticos</a></li>
                <li><a href="#troubleshooting" class="text-primary hover:text-blue-700 font-medium">Solu√ß√£o de Problemas</a></li>
            </ul>
        </div>
    </nav>

    <div class="container mx-auto px-6 py-8">
        <!-- Vis√£o Geral -->
        <section id="overview" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-primary pb-2">üîÑ Vis√£o Geral do Sistema</h2>
            
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-primary mb-4">üìã O que √© o Sistema de Sincroniza√ß√£o?</h3>
                    <p class="text-gray-700 leading-relaxed">
                        O sistema de sincroniza√ß√£o mant√©m os dados do aplicativo m√≥vel sincronizados com o servidor backend. 
                        Ele gerencia opera√ß√µes offline, fila de sincroniza√ß√£o e recupera√ß√£o de erros de forma autom√°tica.
                    </p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-secondary mb-4">‚ú® Principais Funcionalidades</h3>
                    <ul class="text-gray-700 space-y-2">
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Sincroniza√ß√£o autom√°tica em background</li>
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Modo offline com fila de opera√ß√µes</li>
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Retry autom√°tico em caso de falhas</li>
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Logging detalhado de opera√ß√µes</li>
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Upload de arquivos e m√≠dia</li>
                        <li class="flex items-center"><span class="text-secondary mr-2">‚Ä¢</span> Download estrat√©gico de dados</li>
                    </ul>
                </div>
            </div>

            <div class="bg-blue-50 border-l-4 border-primary p-6 rounded-r-lg">
                <h4 class="font-semibold text-primary mb-2">üéØ Objetivo Principal</h4>
                <p class="text-gray-700">
                    Garantir que todas as opera√ß√µes realizadas pelo usu√°rio (criar, editar, deletar) 
                    sejam sincronizadas com o servidor, e que os dados mais recentes sejam baixados 
                    automaticamente, mesmo em condi√ß√µes de conectividade inst√°vel.
                </p>
            </div>
        </section>

        <!-- Arquitetura -->
        <section id="architecture" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2">üèóÔ∏è Arquitetura AppSyncService</h2>
            
            <div class="space-y-8">
                <!-- Estrutura de Arquivos -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">üìÅ Estrutura de Arquivos</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <pre class="text-sm text-gray-700 font-mono"><code>/lib/core/services/sync/
‚îú‚îÄ‚îÄ app_sync_data.dart          # Entidades da aplica√ß√£o (AppSyncData, AppSyncStatus)
‚îú‚îÄ‚îÄ app_sync_service.dart       # Interface da aplica√ß√£o
‚îî‚îÄ‚îÄ syncly/
    ‚îî‚îÄ‚îÄ syncly_service.dart     # Implementa√ß√£o com adapter</code></pre>
                    </div>
                </div>

                <!-- Fluxo de Dados -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-green-600 mb-4">üîÑ Fluxo de Dados</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-blue-50 p-3 rounded-lg text-center">
                            <h4 class="font-semibold text-blue-700 text-sm mb-1">üì± App Layer</h4>
                            <p class="text-xs text-gray-600">Controllers usam AppSyncService</p>
                        </div>
                        <div class="bg-green-50 p-3 rounded-lg text-center">
                            <h4 class="font-semibold text-green-700 text-sm mb-1">üîÑ Adapter Layer</h4>
                            <p class="text-xs text-gray-600">SynclyService converte dados</p>
                        </div>
                        <div class="bg-purple-50 p-3 rounded-lg text-center">
                            <h4 class="font-semibold text-purple-700 text-sm mb-1">‚öôÔ∏è Sync Layer</h4>
                            <p class="text-xs text-gray-600">Sistema interno de sincroniza√ß√£o</p>
                        </div>
                    </div>
                </div>

                <!-- Benef√≠cios -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-purple-600 mb-4">üéØ Benef√≠cios da Arquitetura</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-green-700 mb-2">üîí Isolamento de Camadas</h4>
                            <p class="text-gray-700 text-sm">
                                A aplica√ß√£o n√£o depende das entidades internas do sistema de sincroniza√ß√£o,
                                permitindo mudan√ßas independentes.
                            </p>
                        </div>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-blue-700 mb-2">üîÑ Flexibilidade</h4>
                            <p class="text-gray-700 text-sm">
                                Facilita a troca de implementa√ß√µes de sincroniza√ß√£o sem impactar o c√≥digo da aplica√ß√£o.
                            </p>
                        </div>
                        
                        <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-purple-700 mb-2">üõ†Ô∏è Manutenibilidade</h4>
                            <p class="text-gray-700 text-sm">
                                C√≥digo mais limpo e organizado, com responsabilidades bem definidas.
                            </p>
                        </div>
                        
                        <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-orange-700 mb-2">üìè Consist√™ncia</h4>
                            <p class="text-gray-700 text-sm">
                                Interface padronizada para todas as opera√ß√µes de sincroniza√ß√£o.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Detalhes T√©cnicos -->
        <section id="technical-details" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-purple-500 pb-2">üîß Detalhes T√©cnicos do Sistema Interno</h2>
            
            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-r-lg mb-8">
                <h4 class="font-semibold text-yellow-700 mb-2">‚ö†Ô∏è Se√ß√£o para Desenvolvedores</h4>
                <p class="text-yellow-600">
                    Esta se√ß√£o cont√©m informa√ß√µes t√©cnicas detalhadas sobre o sistema interno de sincroniza√ß√£o 
                    localizado em <code>/lib/sync</code>. √â destinada a desenvolvedores que far√£o manuten√ß√£o, 
                    implementa√ß√£o de novas funcionalidades ou debugging avan√ßado.
                </p>
            </div>

            <div class="space-y-8">
                <!-- Estrutura Completa do Diret√≥rio -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-purple-600 mb-4">üìÅ Estrutura Completa do Diret√≥rio /lib/sync</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <pre class="text-xs text-gray-700 font-mono overflow-x-auto"><code>/lib/sync/
‚îú‚îÄ‚îÄ sync.dart                           # Export principal do m√≥dulo
‚îú‚îÄ‚îÄ sync_configurator.dart              # Configurador simplificado
‚îú‚îÄ‚îÄ sync_provider.dart                  # Provider abstrato para implementa√ß√£o
‚îú‚îÄ‚îÄ sync_initializer.dart               # Inicializador independente

‚îú‚îÄ‚îÄ sync_service.dart                   # Implementa√ß√£o principal do ISyncService
‚îú‚îÄ‚îÄ background_sync_service.dart        # Servi√ßo de sincroniza√ß√£o em background
‚îú‚îÄ‚îÄ sync_documentation.html             # Esta documenta√ß√£o
‚îÇ
‚îú‚îÄ‚îÄ core/                               # N√∫cleo do sistema
‚îÇ   ‚îú‚îÄ‚îÄ adapters/                       # Adaptadores para integra√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_config.dart            # Configura√ß√µes globais
‚îÇ   ‚îú‚îÄ‚îÄ contracts/                      # Contratos/interfaces principais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ internal_sync_log_manager.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_auth_provider.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_http_client.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_logger_debug_provider.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_model_syncable.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_notification_provider.dart
‚îÇ   ‚îú‚îÄ‚îÄ entities/                       # Entidades de dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_connectivity_status.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_data.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_http_exception.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_http_response.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_log.dart
‚îÇ   ‚îú‚îÄ‚îÄ enums/                          # Enumera√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_batch_type.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_connectivity_type.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_http_exception_type.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_log_debug_level.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_operation.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_status.dart
‚îÇ   ‚îú‚îÄ‚îÄ interfaces/                     # Interfaces p√∫blicas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ i_download_strategy.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ i_logger_provider.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ i_storage_provider.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ i_sync_service.dart
‚îÇ   ‚îú‚îÄ‚îÄ presentation/                   # Componentes de UI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ widgets/
‚îÇ   ‚îú‚îÄ‚îÄ providers/                      # Implementa√ß√µes padr√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ default_sync_logger_provider.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default_sync_notification_provider.dart
‚îÇ   ‚îú‚îÄ‚îÄ services/                       # Servi√ßos internos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ internal_sync_log_storage.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage_service.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_connectivity_service.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_data_cleanup_service.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_error_manager.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sync_error_reporter.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_logger_service.dart
‚îÇ   ‚îú‚îÄ‚îÄ theme/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync_theme.dart             # Tema para componentes UI
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ sync_utils.dart             # Utilit√°rios gerais
‚îÇ
‚îî‚îÄ‚îÄ strategies/                         # Estrat√©gias de sincroniza√ß√£o
    ‚îú‚îÄ‚îÄ sync_download_strategy.dart     # Estrat√©gia de download
    ‚îî‚îÄ‚îÄ sync_upload_strategy.dart       # Estrat√©gia de upload</code></pre>
                    </div>
                </div>

                <!-- Componentes Principais -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">‚öôÔ∏è Componentes Principais</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-blue-700 mb-2">üéØ SyncService</h4>
                            <p class="text-blue-600 text-sm mb-2">
                                Implementa√ß√£o principal do <code>ISyncService</code>. Gerencia todo o ciclo de vida 
                                da sincroniza√ß√£o, incluindo opera√ß√µes autom√°ticas, tratamento de falhas e modo offline.
                            </p>
                            <ul class="text-blue-600 text-xs space-y-1">
                                <li>‚Ä¢ Controle de mutex para opera√ß√µes concorrentes</li>
                                <li>‚Ä¢ Timer para sincroniza√ß√£o autom√°tica</li>
                                <li>‚Ä¢ Gerenciamento de conectividade</li>
                                <li>‚Ä¢ Recovery autom√°tico de falhas</li>
                            </ul>
                        </div>
                        
                        <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-green-700 mb-2">üì± BackgroundSyncService</h4>
                            <p class="text-green-600 text-sm mb-2">
                                Gerencia sincroniza√ß√£o em background usando WorkManager. 
                                Executa sync mesmo quando o app est√° fechado.
                            </p>
                            <ul class="text-green-600 text-xs space-y-1">
                                <li>‚Ä¢ Integra√ß√£o com WorkManager</li>
                                <li>‚Ä¢ Notifica√ß√µes de progresso</li>
                                <li>‚Ä¢ Execu√ß√£o independente do app</li>
                                <li>‚Ä¢ Configura√ß√£o de intervalos</li>
                            </ul>
                        </div>
                        
                        <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-purple-700 mb-2">üîÑ Estrat√©gias de Sync</h4>
                            <p class="text-purple-600 text-sm mb-2">
                                <code>SyncDownloadStrategy</code> e <code>SyncUploadStrategy</code> 
                                implementam a l√≥gica espec√≠fica de download e upload.
                            </p>
                            <ul class="text-purple-600 text-xs space-y-1">
                                <li>‚Ä¢ Download: limpeza, cache, notifica√ß√µes</li>
                                <li>‚Ä¢ Upload: fila, retry, batch processing</li>
                                <li>‚Ä¢ Estrat√©gias plug√°veis via <code>IDownloadStrategy</code></li>
                                <li>‚Ä¢ Orquestra√ß√£o de m√∫ltiplas estrat√©gias</li>
                            </ul>
                        </div>
                        
                        <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-orange-700 mb-2">üìù Sistema de Logs</h4>
                            <p class="text-orange-600 text-sm mb-2">
                                <code>LoggerProvider</code> e <code>InternalSyncLogStorage</code> 
                                gerenciam logs de sincroniza√ß√£o de forma independente.
                            </p>
                            <ul class="text-orange-600 text-xs space-y-1">
                                <li>‚Ä¢ Storage independente via <code>IStorageProvider</code></li>
                                <li>‚Ä¢ Logs estruturados com metadata</li>
                                <li>‚Ä¢ Retry autom√°tico e cleanup</li>
                                <li>‚Ä¢ Debug logging separado</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Fluxo de Dados Interno -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-red-600 mb-4">üîÑ Fluxo de Dados Interno</h3>
                    
                    <div class="space-y-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-700 mb-3">1. Opera√ß√£o de Log (Create/Update/Delete)</h4>
                            <div class="text-sm text-gray-600 space-y-2">
                                <p><strong>AppSyncService.logCreate()</strong> ‚Üí <strong>SynclyService.logCreate()</strong> ‚Üí <strong>SyncService.addToSyncQueue()</strong></p>
                                <p>‚Üì</p>
                                <p><strong>LoggerProvider.logCustomOperation()</strong> ‚Üí <strong>InternalSyncLogStorage.createLog()</strong></p>
                                <p>‚Üì</p>
                                <p><strong>IStorageProvider.setString()</strong> (persiste no storage local)</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-700 mb-3">2. Ciclo de Sincroniza√ß√£o</h4>
                            <div class="text-sm text-gray-600 space-y-2">
                                <p><strong>SyncService.forceSync()</strong> ‚Üí <strong>_executeSyncSafely()</strong></p>
                                <p>‚Üì</p>
                                <p><strong>SyncDownloadStrategy.execute()</strong> (baixa dados do servidor)</p>
                                <p>‚Üì</p>
                                <p><strong>SyncUploadStrategy.execute()</strong> (envia logs pendentes)</p>
                                <p>‚Üì</p>
                                <p><strong>LoggerProvider.markAsSynced()</strong> (marca logs como sincronizados)</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-700 mb-3">3. Gerenciamento de Estado</h4>
                            <div class="text-sm text-gray-600 space-y-2">
                                <p><strong>SyncService._updateSyncStatus()</strong> ‚Üí <strong>syncData.value = SyncData(...)</strong></p>
                                <p>‚Üì</p>
                                <p><strong>ValueNotifier.notifyListeners()</strong> (notifica UI)</p>
                                <p>‚Üì</p>
                                <p><strong>Controllers/Widgets</strong> reagem √†s mudan√ßas de estado</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interfaces e Contratos -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-indigo-600 mb-4">üîå Interfaces e Contratos Principais</h3>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-indigo-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-indigo-700 mb-2">ISyncService</h4>
                            <p class="text-indigo-600 text-sm mb-2">Interface principal do servi√ßo de sincroniza√ß√£o</p>
                            <ul class="text-indigo-600 text-xs space-y-1">
                                <li>‚Ä¢ <code>startSync()</code>, <code>stopSync()</code>, <code>forceSync()</code></li>
                                <li>‚Ä¢ <code>addToSyncQueue()</code></li>
                                <li>‚Ä¢ <code>logCreate()</code>, <code>logUpdate()</code>, <code>logDelete()</code></li>
                                <li>‚Ä¢ <code>ValueNotifier&lt;SyncData&gt; syncData</code></li>
                                <li>‚Ä¢ <code>ValueNotifier&lt;bool&gt; isOnline</code></li>
                            </ul>
                        </div>
                        
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-teal-700 mb-2">ILoggerProvider</h4>
                            <p class="text-teal-600 text-sm mb-2">Interface para logging de sincroniza√ß√£o</p>
                            <ul class="text-teal-600 text-xs space-y-1">
                                <li>‚Ä¢ <code>logCreate&lt;T&gt;()</code>, <code>logUpdate&lt;T&gt;()</code>, <code>logDelete&lt;T&gt;()</code></li>
                                <li>‚Ä¢ <code>logCustomOperation()</code></li>
                                <li>‚Ä¢ <code>getPendingLogs()</code></li>
                                <li>‚Ä¢ <code>removeLog()</code>, <code>clearAllLogs()</code></li>
                            </ul>
                        </div>
                        
                        <div class="bg-pink-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-pink-700 mb-2">ISyncAuthProvider</h4>
                            <p class="text-pink-600 text-sm mb-2">Provider de autentica√ß√£o para sync</p>
                            <ul class="text-pink-600 text-xs space-y-1">
                                <li>‚Ä¢ <code>isAuthenticated()</code></li>
                                <li>‚Ä¢ <code>getAuthToken()</code></li>
                                <li>‚Ä¢ <code>getAuthHeaders()</code></li>
                                <li>‚Ä¢ <code>onAuthenticationFailed()</code></li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-yellow-700 mb-2">ISyncHttpClientProvider</h4>
                            <p class="text-yellow-600 text-sm mb-2">Provider de cliente HTTP para sync</p>
                            <ul class="text-yellow-600 text-xs space-y-1">
                                <li>‚Ä¢ <code>httpGet&lt;T&gt;()</code>, <code>httpPost&lt;T&gt;()</code></li>
                                <li>‚Ä¢ <code>httpPut&lt;T&gt;()</code>, <code>httpPatch&lt;T&gt;()</code></li>
                                <li>‚Ä¢ <code>httpDownloadBytes()</code></li>
                                <li>‚Ä¢ <code>httpUploadFile&lt;T&gt;()</code></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Configura√ß√µes e Customiza√ß√£o -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-green-600 mb-4">‚öôÔ∏è Configura√ß√µes e Customiza√ß√£o</h3>
                    
                    <div class="space-y-6">
                        <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                             <h4 class="font-semibold text-green-700 mb-2">SyncConfig</h4>
                             <p class="text-green-600 text-sm mb-2">Configura√ß√µes globais do sistema de sincroniza√ß√£o:</p>
                             <div class="bg-gray-800 text-green-400 p-3 rounded text-xs overflow-x-auto">
                                 <pre><code>class SyncConfig {
   static const Duration syncInterval = Duration(minutes: 5);
   static const Duration initialSyncDelay = Duration(seconds: 3);
   static const Duration recoveryTimeout = Duration(minutes: 2);
   static const int maxRetryAttempts = 3;
   static const Duration httpTimeout = Duration(seconds: 30);
 }</code></pre>
                             </div>
                         </div>
                         
                         <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                             <h4 class="font-semibold text-orange-700 mb-2">Configura√ß√£o de Rotas</h4>
                             <p class="text-orange-600 text-sm mb-2">Configure as rotas de sincroniza√ß√£o no SynclyProvider:</p>
                             <div class="bg-gray-800 text-green-400 p-3 rounded text-xs overflow-x-auto">
                                 <pre><code>class SynclyProvider extends SyncProvider {
   @override
   String? get baseUrl => const String.fromEnvironment('SYNC_BASE_URL');
   
   @override
   String get dataSyncEndpoint => '/api/sync/logs';
   
   String get errorLogsEndpoint => '/api/sync/error-logs';
   
   // M√©todos auxiliares para URLs completas
   String get syncLogsUrl => _buildUrl(dataSyncEndpoint);
   String get errorLogsUrl => _buildUrl(errorLogsEndpoint);
 }</code></pre>
                             </div>
                         </div>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-blue-700 mb-2">SyncProvider Customiza√ß√£o</h4>
                            <p class="text-blue-600 text-sm mb-2">Para implementar um provider customizado:</p>
                            <div class="bg-gray-800 text-green-400 p-3 rounded text-xs overflow-x-auto">
                                <pre><code>class CustomSyncProvider extends SyncProvider {
  @override
  String get appName => 'Meu App';
  
  @override
  Duration get syncInterval => Duration(minutes: 10);
  
  @override
  Future&lt;bool&gt; isAuthenticated() async {
    // Implementar l√≥gica de autentica√ß√£o
  }
  
  // Implementar outros m√©todos obrigat√≥rios...
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-purple-700 mb-2">Estrat√©gias de Download Customizadas</h4>
                            <p class="text-purple-600 text-sm mb-2">Para implementar estrat√©gias espec√≠ficas:</p>
                            <div class="bg-gray-800 text-green-400 p-3 rounded text-xs overflow-x-auto">
                                <pre><code>class CustomDownloadStrategy implements IDownloadStrategy {
  @override
  String get strategyName => 'CustomStrategy';
  
  @override
  Future&lt;void&gt; execute() async {
    // Implementar l√≥gica de download espec√≠fica
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Debugging e Monitoramento -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-red-600 mb-4">üêõ Debugging e Monitoramento</h3>
                    
                    <div class="space-y-6">
                        <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-red-700 mb-2">Logs de Debug</h4>
                            <p class="text-red-600 text-sm mb-2">O sistema possui logging em m√∫ltiplas camadas:</p>
                            <ul class="text-red-600 text-sm space-y-1">
                                <li>‚Ä¢ <strong>ISyncLoggerDebugProvider:</strong> Logs de debug detalhados</li>
                                <li>‚Ä¢ <strong>SyncErrorManager:</strong> Gerenciamento de erros</li>
                                <li>‚Ä¢ <strong>SyncErrorReporter:</strong> Relat√≥rio de erros para analytics</li>
                                <li>‚Ä¢ <strong>InternalSyncLogStorage:</strong> Logs de opera√ß√µes de sync</li>
                            </ul>
                        </div>
                        
                        <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-orange-700 mb-2">Monitoramento de Performance</h4>
                            <p class="text-orange-600 text-sm mb-2">M√©tricas importantes para monitorar:</p>
                            <ul class="text-orange-600 text-sm space-y-1">
                                <li>‚Ä¢ <strong>Tempo de sincroniza√ß√£o:</strong> Dura√ß√£o de cada ciclo</li>
                                <li>‚Ä¢ <strong>Taxa de sucesso:</strong> Porcentagem de syncs bem-sucedidos</li>
                                <li>‚Ä¢ <strong>Itens pendentes:</strong> Quantidade na fila de sync</li>
                                <li>‚Ä¢ <strong>Falhas consecutivas:</strong> Indicador de problemas</li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-yellow-700 mb-2">Comandos de Debug</h4>
                            <p class="text-yellow-600 text-sm mb-2">Comandos √∫teis para debugging:</p>
                            <div class="bg-gray-800 text-green-400 p-3 rounded text-xs overflow-x-auto">
                                <pre><code>// For√ßar sincroniza√ß√£o imediata
await syncService.forceSync();

// Verificar logs pendentes
final logs = await loggerProvider.getPendingLogs();
print('Logs pendentes: ${logs.length}');

// Limpar todos os logs (cuidado!)
await loggerProvider.clearAllLogs();

// Verificar conectividade
final isOnline = await connectivityService.isConnected();
print('Online: $isOnline');</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Considera√ß√µes de Manuten√ß√£o -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-gray-700 mb-4">üîß Considera√ß√µes de Manuten√ß√£o</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 border-l-4 border-gray-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-gray-700 mb-2">‚ö†Ô∏è Pontos de Aten√ß√£o</h4>
                            <ul class="text-gray-600 text-sm space-y-1">
                                <li>‚Ä¢ <strong>Mutex:</strong> SyncService usa mutex para evitar concorr√™ncia</li>
                                <li>‚Ä¢ <strong>Memory Leaks:</strong> Sempre remover listeners no dispose</li>
                                <li>‚Ä¢ <strong>Storage:</strong> Logs s√£o persistidos localmente</li>
                                <li>‚Ä¢ <strong>Background:</strong> WorkManager pode ser terminado pelo sistema</li>
                            </ul>
                        </div>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-blue-700 mb-2">‚úÖ Boas Pr√°ticas</h4>
                            <ul class="text-blue-600 text-sm space-y-1">
                                <li>‚Ä¢ <strong>Testes:</strong> Sempre testar em modo offline</li>
                                <li>‚Ä¢ <strong>Logs:</strong> Implementar cleanup autom√°tico</li>
                                <li>‚Ä¢ <strong>Retry:</strong> Configurar retry adequado para cada opera√ß√£o</li>
                                <li>‚Ä¢ <strong>Monitoring:</strong> Implementar m√©tricas de performance</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Routes -->
        <section id="api-routes" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-500 pb-2">üåê Rotas da API de Sincroniza√ß√£o</h2>
            
            <div class="bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg mb-8">
                <h4 class="font-semibold text-indigo-700 mb-2">üìã Vis√£o Geral</h4>
                <p class="text-indigo-600">
                    As rotas configuradas no <code>SynclyProvider</code> (linhas 96-106) definem os endpoints 
                    para comunica√ß√£o com o backend. Cada rota tem um prop√≥sito espec√≠fico e formato de dados padronizado.
                </p>
            </div>

            <div class="space-y-8">
                <!-- Rota 1: Logs de Sincroniza√ß√£o -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <span class="bg-green-500 text-white px-3 py-1 rounded text-sm font-bold mr-3">POST</span>
                        <code class="text-indigo-700 font-mono text-lg">/api/sync/logs</code>
                    </div>
                    <p class="text-gray-600 mb-6">Endpoint principal para envio de logs de sincroniza√ß√£o (opera√ß√µes create, update, delete)</p>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-blue-500 mr-2">üì§</span> Request Body
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>{
  "operation": "create|update|delete",
  "entityType": "ServiceOrderAppointment",
  "entityId": "uuid-string",
  "data": {
    // Dados da entidade (para create/update)
    "id": "uuid",
    "title": "Ordem de Servi√ßo",
    "status": "pending",
    "createdAt": "2024-01-15T10:30:00Z"
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "deviceId": "device-uuid",
  "userId": "user-uuid"
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-green-500 mr-2">üì•</span> Response
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>// Sucesso:
{
  "success": true,
  "message": "Log processado com sucesso",
  "logId": "log-uuid",
  "processedAt": "2024-01-15T10:30:05Z"
}

// Erro:
{
  "success": false,
  "error": "Validation failed",
  "details": {
    "field": "entityId",
    "message": "Campo obrigat√≥rio"
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rota 2: Logs de Erro -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <span class="bg-red-500 text-white px-3 py-1 rounded text-sm font-bold mr-3">POST</span>
                        <code class="text-red-700 font-mono text-lg">/api/sync/error-logs</code>
                    </div>
                    <p class="text-gray-600 mb-6">Endpoint para envio de logs de erro de sincroniza√ß√£o e debugging</p>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-blue-500 mr-2">üì§</span> Request Body
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>{
  "errorType": "sync_failed|network_error|validation_error",
  "errorMessage": "Falha na sincroniza√ß√£o",
  "stackTrace": "Exception stack trace...",
  "context": {
    "operation": "upload",
    "entityType": "ServiceOrderAppointment",
    "entityId": "uuid-string",
    "attemptNumber": 3
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "deviceInfo": {
    "platform": "android",
    "version": "1.0.0",
    "deviceId": "device-uuid"
  },
  "userId": "user-uuid"
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-green-500 mr-2">üì•</span> Response
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>// Sucesso:
{
  "success": true,
  "message": "Log de erro registrado",
  "errorLogId": "error-log-uuid",
  "registeredAt": "2024-01-15T10:30:05Z"
}

// Erro:
{
  "success": false,
  "error": "Invalid error type",
  "validTypes": [
    "sync_failed",
    "network_error",
    "validation_error"
  ]
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rota 3: Sincroniza√ß√£o de Arquivos -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <span class="bg-blue-500 text-white px-3 py-1 rounded text-sm font-bold mr-3">POST</span>
                        <code class="text-blue-700 font-mono text-lg">/api/sync/files</code>
                    </div>
                    <p class="text-gray-600 mb-6">Endpoint para upload de arquivos e m√≠dia (multipart/form-data)</p>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-6">
                        <h5 class="font-semibold text-blue-700 mb-2">üìã Campo fileIds</h5>
                        <p class="text-blue-600 text-sm">
                            O campo <code>fileIds</code> √© um array JSON que cont√©m os IDs dos arquivos na mesma ordem 
                            em que s√£o enviados no campo <code>files</code>. Isso permite ao backend associar 
                            corretamente cada arquivo com seu respectivo ID de entidade.
                        </p>
                    </div>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-blue-500 mr-2">üì§</span> Request (Multipart)
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>Content-Type: multipart/form-data

// Form fields:
files: [binary file data] // M√∫ltiplos arquivos
fileIds: ["uuid1", "uuid2", "uuid3"] // Array JSON com IDs dos arquivos na ordem
entityType: "ServiceOrderAppointment"
entityId: "uuid-string"
fileType: "image|document|video|audio"
fileName: "photo.jpg"
fileSize: 1024000
timestamp: "2024-01-15T10:30:00Z"
deviceId: "device-uuid"
userId: "user-uuid"

// Metadata opcional:
metadata: {
  "description": "Foto da ordem de servi√ßo",
  "location": {
    "lat": -23.5505,
    "lng": -46.6333
  }
}</code></pre>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-700 mb-3 flex items-center">
                                <span class="text-green-500 mr-2">üì•</span> Response
                            </h5>
                            <div class="bg-gray-800 text-green-400 p-4 rounded text-sm overflow-x-auto">
                                <pre><code>// Sucesso:
{
  "success": true,
  "message": "Arquivo enviado com sucesso",
  "fileId": "file-uuid",
  "fileUrl": "https://api.example.com/files/file-uuid",
  "thumbnailUrl": "https://api.example.com/thumbnails/file-uuid",
  "uploadedAt": "2024-01-15T10:30:05Z",
  "fileSize": 1024000,
  "mimeType": "image/jpeg"
}

// Erro:
{
  "success": false,
  "error": "File too large",
  "maxSize": 10485760,
  "receivedSize": 15728640
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Headers e Autentica√ß√£o -->
                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-r-lg">
                    <h4 class="font-semibold text-yellow-700 mb-3">üîê Headers e Autentica√ß√£o</h4>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg border border-yellow-200">
                            <h5 class="font-semibold text-gray-700 mb-2">Headers Obrigat√≥rios:</h5>
                            <div class="bg-gray-800 text-green-400 p-3 rounded text-sm">
                                <pre><code>Authorization: Bearer {jwt-token}
Content-Type: application/json
X-Device-ID: {device-uuid}
X-App-Version: {app-version}</code></pre>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-yellow-200">
                            <h5 class="font-semibold text-gray-700 mb-2">Configura√ß√£o Autom√°tica:</h5>
                            <p class="text-gray-600 text-sm">
                                Os headers s√£o configurados automaticamente pelo <code>SynclyProvider</code> 
                                atrav√©s do m√©todo <code>defaultHeaders</code>. A autentica√ß√£o √© gerenciada 
                                pelo <code>ISyncAuthProvider</code> registrado no sistema.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Como Usar -->
        <section id="usage" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-secondary pb-2">üöÄ Como Usar</h2>
            
            <div class="space-y-8">
                <!-- Passo 1: Configura√ß√£o -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">üì¶ 1. Configura√ß√£o no CoreModule</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Registre o servi√ßo no <code class="bg-gray-200 px-2 py-1 rounded">core_module.dart</code>:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>// No core_module.dart
class CoreModule extends Module {
  @override
  void binds(Injector i) {
    // Registra o AppSyncService
    i.addSingleton<AppSyncService>(SynclyService.new);
    
    // Outros binds...
  }
}</code></pre>
                    </div>
                </div>

                <!-- Passo 2: Inje√ß√£o -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-green-600 mb-4">üíâ 2. Inje√ß√£o de Depend√™ncia</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Injete o AppSyncService nos seus datasources:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>class ServiceOrderAppointmentLocalDatasourceImpl 
    implements ServiceOrderAppointmentLocalDatasource {
  
  final AppSyncService _syncClient;

  ServiceOrderAppointmentLocalDatasourceImpl(this._syncClient);
  
  // Implementa√ß√µes dos m√©todos...
}</code></pre>
                    </div>
                </div>

                <!-- Passo 3: Uso nos Controllers -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-purple-600 mb-4">üéÆ 3. Uso nos Controllers</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Use o AppSyncService nos controllers para monitorar o estado:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>class HomeController extends BaseController {
  final AppSyncService syncClient;

  HomeController(this.syncClient) {
    // Escuta mudan√ßas no estado de sincroniza√ß√£o
    syncClient.syncData.addListener(_onSyncStateChanged);
  }

  void _onSyncStateChanged() {
    final syncData = syncClient.syncData.value;
    
    if (syncData.status == AppSyncStatus.success || 
        syncData.status == AppSyncStatus.idle) {
      // Recarregar dados quando sincroniza√ß√£o terminar
      _loadData();
    }
  }

  @override
  void dispose() {
    syncClient.syncData.removeListener(_onSyncStateChanged);
    super.dispose();
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exemplos Pr√°ticos -->
        <section id="examples" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-accent pb-2">üí° Exemplos Pr√°ticos</h2>
            
            <div class="space-y-8">
                <!-- Exemplo: logCreate -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-green-600 mb-4">‚úÖ Criando Registros com logCreate</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Use <code class="bg-gray-200 px-2 py-1 rounded">logCreate</code> sempre que criar um novo registro:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>@override
Future<ServiceOrderAppointmentModel> save(
    ServiceOrderAppointmentModel appointment) async {
  
  // 1. Salvar no banco local
  // await _databaseProvider.insert(appointment);
  
  // 2. Registrar para sincroniza√ß√£o
  await _syncClient.logCreate(
    'ServiceOrderAppointment',  // Tipo da entidade
    appointment.id,             // ID do registro
    appointment.toJson(),       // Dados do registro
  );
  
  return appointment;
}</code></pre>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg mt-4">
                        <h4 class="font-semibold text-green-700 mb-2">üí° Dica</h4>
                        <p class="text-green-600 text-sm">
                            O <code>logCreate</code> adiciona o registro na fila de sincroniza√ß√£o para ser enviado ao servidor.
                        </p>
                    </div>
                </div>

                <!-- Exemplo: logUpdate -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">üîÑ Atualizando Registros com logUpdate</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Use <code class="bg-gray-200 px-2 py-1 rounded">logUpdate</code> sempre que atualizar um registro existente:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>@override
Future<ServiceOrderAppointmentModel> update(
    ServiceOrderAppointmentModel appointment) async {
  
  // 1. Atualizar no banco local
  // await _databaseProvider.update(appointment);
  
  // 2. Registrar para sincroniza√ß√£o
  await _syncClient.logUpdate(
    'ServiceOrderAppointment',  // Tipo da entidade
    appointment.id,             // ID do registro
    appointment.toJson(),       // Dados atualizados
  );
  
  return appointment;
}</code></pre>
                    </div>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mt-4">
                        <h4 class="font-semibold text-blue-700 mb-2">üí° Dica</h4>
                        <p class="text-blue-600 text-sm">
                            O <code>logUpdate</code> marca o registro para ser atualizado no servidor na pr√≥xima sincroniza√ß√£o.
                        </p>
                    </div>
                </div>

                <!-- Exemplo: logDelete -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-red-600 mb-4">üóëÔ∏è Deletando Registros com logDelete</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Use <code class="bg-gray-200 px-2 py-1 rounded">logDelete</code> sempre que deletar um registro:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>@override
Future<void> delete(String appointmentId) async {
  
  // 1. Buscar o registro antes de deletar (para ter os dados)
  final appointment = await findById(appointmentId);
  
  if (appointment != null) {
    // 2. Deletar do banco local
    // await _databaseProvider.delete(appointmentId);
    
    // 3. Registrar para sincroniza√ß√£o
    await _syncClient.logDelete(
      'ServiceOrderAppointment',  // Tipo da entidade
      appointment.id,             // ID do registro
    );
  }
}</code></pre>
                    </div>
                    
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg mt-4">
                        <h4 class="font-semibold text-red-700 mb-2">‚ö†Ô∏è Importante</h4>
                        <p class="text-red-600 text-sm">
                            Para <code>logDelete</code>, busque o registro antes de deletar para garantir que o ID seja v√°lido.
                        </p>
                    </div>
                </div>

                <!-- Exemplo: Opera√ß√µes em Lote -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-purple-600 mb-4">üì¶ Opera√ß√µes em Lote</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Para opera√ß√µes em lote, chame os m√©todos de log individualmente:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>@override
Future<List<ServiceOrderAppointmentModel>> saveAll(
    List<ServiceOrderAppointmentModel> appointments) async {
  
  final results = <ServiceOrderAppointmentModel>[];
  
  for (final appointment in appointments) {
    // Salva cada item individualmente
    // Isso garante que cada um seja logado corretamente
    final saved = await save(appointment);
    results.add(saved);
  }
  
  return results;
}</code></pre>
                    </div>
                </div>

                <!-- Exemplo: Monitoramento de Estado -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-orange-600 mb-4">üìä Monitoramento de Estado</h3>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-3">Monitore o estado da sincroniza√ß√£o em tempo real:</p>
                        <pre class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto text-sm"><code>// No seu controller ou widget
void _setupSyncMonitoring() {
  syncClient.syncData.addListener(() {
    final syncData = syncClient.syncData.value;
    
    switch (syncData.status) {
      case AppSyncStatus.idle:
        print('Sincroniza√ß√£o inativa');
        break;
      case AppSyncStatus.syncing:
        print('Sincronizando... ${syncData.pendingItems} itens pendentes');
        break;
      case AppSyncStatus.success:
        print('Sincroniza√ß√£o conclu√≠da com sucesso!');
        _reloadData();
        break;
      case AppSyncStatus.error:
        print('Erro na sincroniza√ß√£o: ${syncData.message}');
        break;
      case AppSyncStatus.offline:
        print('Modo offline - dados ser√£o sincronizados quando conectar');
        break;
    }
  });
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Solu√ß√£o de Problemas -->
        <section id="troubleshooting" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">üîß Solu√ß√£o de Problemas</h2>
            
            <div class="space-y-6">
                <!-- Problema 1 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-red-600 mb-3">‚ùå Dados n√£o est√£o sendo sincronizados</h3>
                    
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg mb-4">
                        <h4 class="font-semibold text-red-700 mb-2">Poss√≠veis Causas:</h4>
                        <ul class="text-red-600 text-sm space-y-1">
                            <li>‚Ä¢ Esqueceu de chamar <code>logCreate</code>, <code>logUpdate</code> ou <code>logDelete</code></li>
                            <li>‚Ä¢ AppSyncService n√£o est√° registrado no m√≥dulo</li>
                            <li>‚Ä¢ Problemas de conectividade</li>
                            <li>‚Ä¢ Erro na implementa√ß√£o do <code>toJson()</code> do modelo</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                        <h4 class="font-semibold text-green-700 mb-2">‚úÖ Solu√ß√µes:</h4>
                        <ul class="text-green-600 text-sm space-y-1">
                            <li>‚Ä¢ Verifique se todos os m√©todos CRUD chamam os respectivos m√©todos de log</li>
                            <li>‚Ä¢ Confirme o registro do AppSyncService no CoreModule</li>
                            <li>‚Ä¢ Teste a conectividade e verifique logs de erro</li>
                            <li>‚Ä¢ Valide se o <code>toJson()</code> retorna dados v√°lidos</li>
                        </ul>
                    </div>
                </div>

                <!-- Problema 2 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-red-600 mb-3">‚ùå Erro de inje√ß√£o de depend√™ncia</h3>
                    
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg mb-4">
                        <h4 class="font-semibold text-red-700 mb-2">Erro Comum:</h4>
                        <pre class="text-red-600 text-sm font-mono"><code>ModularError: AppSyncService not found</code></pre>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                        <h4 class="font-semibold text-green-700 mb-2">‚úÖ Solu√ß√£o:</h4>
                        <p class="text-green-600 text-sm mb-2">Verifique se o AppSyncService est√° registrado no CoreModule:</p>
                        <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm"><code>i.addSingleton<AppSyncService>(SynclyService.new);</code></pre>
                    </div>
                </div>

                <!-- Problema 3 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-red-600 mb-3">‚ùå Estado de sincroniza√ß√£o n√£o atualiza</h3>
                    
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg mb-4">
                        <h4 class="font-semibold text-red-700 mb-2">Poss√≠veis Causas:</h4>
                        <ul class="text-red-600 text-sm space-y-1">
                            <li>‚Ä¢ Listener n√£o foi adicionado ao <code>syncData</code></li>
                            <li>‚Ä¢ Listener n√£o foi removido no <code>dispose()</code></li>
                            <li>‚Ä¢ Controller n√£o est√° sendo reconstru√≠do</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                        <h4 class="font-semibold text-green-700 mb-2">‚úÖ Solu√ß√£o:</h4>
                        <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm"><code>// Adicionar listener
syncClient.syncData.addListener(_onSyncStateChanged);

// Remover no dispose
@override
void dispose() {
  syncClient.syncData.removeListener(_onSyncStateChanged);
  super.dispose();
}</code></pre>
                    </div>
                </div>

                <!-- Comandos √öteis -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-blue-600 mb-3">üõ†Ô∏è Comandos √öteis para Debug</h3>
                    
                    <div class="space-y-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">Verificar an√°lise est√°tica:</h4>
                            <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm"><code>flutter analyze lib/core lib/modules</code></pre>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">For√ßar sincroniza√ß√£o:</h4>
                            <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm"><code>await syncClient.forceSync();</code></pre>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">Verificar itens pendentes:</h4>
                            <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm"><code>final pendingCount = await syncClient.getPendingItemsCount();
print('Itens pendentes: $pendingCount');</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-300">Sistema de Sincroniza√ß√£o - Syncly</p>
            <p class="text-gray-400 text-sm mt-2">Documenta√ß√£o atualizada em 2024</p>
        </div>
    </footer>
</body>
</html>